#include <stdio.h>
#define INF 9999
int main() {
int n,src,cost[10][10],dist[10],visited[10]={0},min,next;
printf("Enter number of nodes: ");
scanf("%d",&n);
printf("Enter Cost Matrix (0 for self, 9999 for infinity):\n");
for(int i=0;i<n;i++) {
for(int j=0;j<n;j++) {
scanf("%d",&cost[i][j]);
if(cost[i][j]==0&&i!=j) cost[i][j]=INF;
}
}
printf("Enter source node (0 to %d): ",n-1);
scanf("%d",&src);
for(int i=0;i<n;i++) {
dist[i]=cost[src][i];
visited[i]=0;
}
dist[src]=0;
visited[src]=1;
for(int count=0;count<n-1;count++) {
min=INF;
for(int i=0;i<n;i++) {
if(!visited[i]&&dist[i]<min) {
min=dist[i];
next=i;
}
}
visited[next]=1;
for(int i=0;i<n;i++) {
if(!visited[i]&&(min+cost[next][i]<dist[i])) {
dist[i]=min+cost[next][i];
}
}
}
for(int i=0;i<n;i++) {
if(i!=src) printf("Distance %d -> %d = %d\n",src,i,dist[i]);
}
return 0;
}
